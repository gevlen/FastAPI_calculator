# FastAPI_calculator

## /calc

Принимает json с математическим выражением. Если выражение составленно верно, то выводит ответ. В противном случае выводит ошибку.

Функция `conversion` - убирает пробелы и позволяет первому операнду иметь унарный плюс либо минус.

Функция `compare` - сравнивает выражение с шаблоном и возвращает статус "success" или "fail".

Функция `solution` - принимает проверенное выражение и вычисляет его. Учитывается приоритет операций и допускается использование скобок (польская нотация).

Результаты обращений хранятся в списке "result". Для экономии памяти при достижении 30 запросов, каждый следуюший заменяет самый старый.

## /history

Возвращает последние 30 (по умолчанию) запросов к сервису в формате json (массив).

`limit` (int) - ограничивает количество выводимых запросов (по умолчанию 30). При значениях меньше 1 и больше 30 - возвращает ошибку 422

`status` (str) - отфильтровывает успешные запросы или запросы с ошибкой (допустимые значения: "succes", "fail" - при других значениях возвращает ошибку 400). 

